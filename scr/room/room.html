<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>V·ªù Ku M√≠t</title>
  <link rel="stylesheet" href="room.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
  <script src="https://cdn.socket.io/4.6.1/socket.io.min.js"></script>
  <link rel="icon" href="data:,">
</head>
<body>
  <!-- Header -->
  <header class="room-header">
    <div class="header-left">
      <div class="logo">
        <span><span style="color: #ff0000;">V·ªù</span> <span style="color: #ffd700;">Ku</span> <span style="color: #0099ff;">M√≠t</span></span>
      </div>
      <div class="room-info">
        <span class="room-code" id="roomCode">Loading...</span>
        <button class="copy-btn" id="copyCodeBtn" title="Copy m√£ ph√≤ng">
          <span class="material-symbols-outlined">content_copy</span>
        </button>
      </div>
    </div>
    <div class="header-right">
      <span class="user-email" id="userEmail">user@email.com</span>
      <button class="leave-btn" id="leaveBtn">R·ªùi ph√≤ng</button>
    </div>
  </header>

  <!-- Main Meeting Area -->
  <main class="meeting-container">
    <!-- Video Grid -->
    <div class="video-grid" id="videoGrid">
      <!-- Local Video -->
      <div class="video-wrapper local-video">
        <video id="localVideo" autoplay muted playsinline></video>
        <div class="video-placeholder" id="localPlaceholder">
          <div class="avatar-circle">
            <span class="avatar-text" id="localAvatarText">B·∫†N</span>
          </div>
        </div>
        <div class="video-overlay">
          <span class="participant-name">B·∫°n</span>
          <div class="video-status">
            <span class="mic-status" id="localMicStatus">
              <svg width="16" height="16" fill="white" viewBox="0 0 24 24">
                <path d="M12 14c1.66 0 3-1.34 3-3V5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3z"/>
                <path d="M17 11c0 2.76-2.24 5-5 5s-5-2.24-5-5H5c0 3.53 2.61 6.43 6 6.92V21h2v-3.08c3.39-.49 6-3.39 6-6.92h-2z"/>
              </svg>
            </span>
          </div>
        </div>
      </div>
      
      <!-- Remote videos will be added here dynamically -->
    </div>

    <!-- Waiting Message -->
    <div class="waiting-message" id="waitingMessage">
      <div class="waiting-content">
        <div class="waiting-icon">
          <span class="material-symbols-outlined" style="font-size: 64px; color: white;">group</span>
        </div>
        <h2>ƒêang ch·ªù ng∆∞·ªùi kh√°c tham gia...</h2>
        <p>Chia s·∫ª m√£ ph√≤ng ƒë·ªÉ m·ªùi ng∆∞·ªùi kh√°c:</p>
        <div class="share-code">
          <span id="shareCode">0000-0000-0000</span>
          <button class="share-copy-btn" id="shareCopyBtn">Copy</button>
        </div>
      </div>
    </div>
  </main>

  <!-- Control Bar -->
  <div class="control-bar">
    <div class="controls-left">
      <span class="meeting-time" id="meetingTime">00:00</span>
    </div>
    
    <div class="controls-center">
      <button class="control-btn mic-btn active" id="micToggle" title="Microphone">
        <span class="icon mic-icon"></span>
      </button>
      <button class="control-btn cam-btn active" id="camToggle" title="Camera">
        <span class="icon cam-icon"></span>
      </button>
      <button class="control-btn screen-btn" id="screenToggle" title="Share screen">
        <span class="icon">
          <span class="material-symbols-outlined">screen_share</span>
        </span>
      </button>
      <button class="control-btn participants-btn" id="participantsToggle" title="Participants">
        <span class="icon">
          <span class="material-symbols-outlined">group</span>
        </span>
        <span class="participant-count" id="participantCount">1</span>
      </button>
      <button class="control-btn chat-btn" id="chatToggle" title="Chat">
        <span class="icon chat-icon"></span>
      </button>
      <button class="control-btn record-btn" id="recordToggle" title="Record">
        <span class="icon record-icon"></span>
      </button>
      <button class="control-btn end-btn" id="endCall" title="End call">
        <span class="icon end-icon"></span>
      </button>
    </div>

    <div class="controls-right">
      <button class="control-btn settings-btn" id="settingsBtn" title="Settings">
        <span class="icon">‚öôÔ∏è</span>
      </button>
    </div>
  </div>

  <!-- Participants Sidebar -->
  <div class="participants-sidebar" id="participantsSidebar">
    <div class="sidebar-header">
      <h3>Ng∆∞·ªùi tham gia (<span id="participantCountText">1</span>)</h3>
      <button class="close-sidebar" id="closeParticipants">‚úï</button>
    </div>
    <div class="participants-list" id="participantsList">
      <!-- Participants will appear here -->
    </div>
  </div>

  <!-- Chat Sidebar (Hidden by default) -->
  <div class="chat-sidebar" id="chatSidebar">
    <div class="chat-header">
      <h3>Chat</h3>
      <button class="close-chat" id="closeChat">‚úï</button>
    </div>
    <div class="chat-messages" id="chatMessages">
      <!-- Messages will appear here -->
    </div>
    <div class="chat-input-container">
      <input type="file" id="fileInput" style="display: none;" />
      <button id="attachFileBtn" class="attach-btn" title="ƒê√≠nh k√®m file">üìé</button>
      <input type="text" id="chatInput" placeholder="Nh·∫≠p tin nh·∫Øn..." />
      <button id="sendMessage">G·ª≠i</button>
    </div>
  </div>

  <!-- Private Chat Sidebar -->
  <div class="private-chat-sidebar" id="privateChatSidebar">
    <div class="chat-header">
      <h3 id="privateChatTitle">Chat ri√™ng</h3>
      <button class="close-chat" id="closePrivateChat">‚úï</button>
    </div>
    <div class="chat-messages" id="privateChatMessages">
      <!-- Private messages will appear here -->
    </div>
    <div class="chat-input-container">
      <input type="text" id="privateChatInput" placeholder="Nh·∫≠p tin nh·∫Øn ri√™ng..." />
      <button id="sendPrivateMessage">G·ª≠i</button>
    </div>
  </div>

  <!-- Notification Container -->
  <div id="notificationContainer"></div>

  <script src="room.js"></script>
</body>
</html>
